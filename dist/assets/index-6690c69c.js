var Ft=Object.defineProperty;var Gt=(t,e,n)=>e in t?Ft(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Y=(t,e,n)=>(Gt(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function A(){}function qt(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function a(t,e,n,o,l){t.__svelte_meta={loc:{file:e,line:n,column:o,char:l}}}function Rt(t){return t()}function Ct(){return Object.create(null)}function ot(t){t.forEach(Rt)}function Nt(t){return typeof t=="function"}function Jt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Vt(t){return Object.keys(t).length===0}const zt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Kt(t,e){t.appendChild(e)}function Ut(t,e,n){t.insertBefore(e,n||null)}function Mt(t){t.parentNode&&t.parentNode.removeChild(t)}function Ht(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function V(t){return document.createTextNode(t)}function b(){return V(" ")}function Qt(){return V("")}function Wt(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function Xt(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function It(t){return t===""?null:+t}function Yt(t){return Array.from(t.childNodes)}function $(t,e){t.value=e??""}function Zt(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}let lt;function q(t){lt=t}function te(){if(!lt)throw new Error("Function called outside component initialization");return lt}const et=[],Dt=[];let nt=[];const Tt=[],ee=Promise.resolve();let gt=!1;function ne(){gt||(gt=!0,ee.then(kt))}function bt(t){nt.push(t)}const mt=new Set;let Z=0;function kt(){if(Z!==0)return;const t=lt;do{try{for(;Z<et.length;){const e=et[Z];Z++,q(e),oe(e.$$)}}catch(e){throw et.length=0,Z=0,e}for(q(null),et.length=0,Z=0;Dt.length;)Dt.pop()();for(let e=0;e<nt.length;e+=1){const n=nt[e];mt.has(n)||(mt.add(n),n())}nt.length=0}while(et.length);for(;Tt.length;)Tt.pop()();gt=!1,mt.clear(),q(t)}function oe(t){if(t.fragment!==null){t.update(),ot(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(bt)}}function le(t){const e=[],n=[];nt.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),nt=e}const ht=new Set;let W;function re(){W={r:0,c:[],p:W}}function ie(){W.r||ot(W.c),W=W.p}function Lt(t,e){t&&t.i&&(ht.delete(t),t.i(e))}function se(t,e,n,o){if(t&&t.o){if(ht.has(t))return;ht.add(t),W.c.push(()=>{ht.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}function jt(t,e){const n=e.token={};function o(l,i,c,f){if(e.token!==n)return;e.resolved=f;let s=e.ctx;c!==void 0&&(s=s.slice(),s[c]=f);const u=l&&(e.current=l)(s);let y=!1;e.block&&(e.blocks?e.blocks.forEach((m,k)=>{k!==i&&m&&(re(),se(m,1,1,()=>{e.blocks[k]===m&&(e.blocks[k]=null)}),ie())}):e.block.d(1),u.c(),Lt(u,1),u.m(e.mount(),e.anchor),y=!0),e.block=u,e.blocks&&(e.blocks[i]=u),y&&kt()}if(qt(t)){const l=te();if(t.then(i=>{q(l),o(e.then,1,e.value,i),q(null)},i=>{if(q(l),o(e.catch,2,e.error,i),q(null),!e.hasCatch)throw i}),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}}function ue(t,e,n){const o=e.slice(),{resolved:l}=t;t.current===t.then&&(o[t.value]=l),t.current===t.catch&&(o[t.error]=l),t.block.p(o,n)}function ce(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function fe(t,e,n){const{fragment:o,after_update:l}=t.$$;o&&o.m(e,n),bt(()=>{const i=t.$$.on_mount.map(Rt).filter(Nt);t.$$.on_destroy?t.$$.on_destroy.push(...i):ot(i),t.$$.on_mount=[]}),l.forEach(bt)}function ae(t,e){const n=t.$$;n.fragment!==null&&(le(n.after_update),ot(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function de(t,e){t.$$.dirty[0]===-1&&(et.push(t),ne(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function he(t,e,n,o,l,i,c=null,f=[-1]){const s=lt;q(t);const u=t.$$={fragment:null,ctx:[],props:i,update:A,not_equal:l,bound:Ct(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:Ct(),dirty:f,skip_bound:!1,root:e.target||s.$$.root};c&&c(u.root);let y=!1;if(u.ctx=n?n(t,e.props||{},(m,k,...w)=>{const E=w.length?w[0]:k;return u.ctx&&l(u.ctx[m],u.ctx[m]=E)&&(!u.skip_bound&&u.bound[m]&&u.bound[m](E),y&&de(t,m)),k}):[],u.update(),y=!0,ot(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const m=Yt(e.target);u.fragment&&u.fragment.l(m),m.forEach(Mt)}else u.fragment&&u.fragment.c();e.intro&&Lt(t.$$.fragment),fe(t,e.target,e.anchor),kt()}q(s)}class pe{constructor(){Y(this,"$$");Y(this,"$$set")}$destroy(){ae(this,1),this.$destroy=A}$on(e,n){if(!Nt(n))return A;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const l=o.indexOf(n);l!==-1&&o.splice(l,1)}}$set(e){this.$$set&&!Vt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const me="4.2.1",_e="4";function T(t,e){document.dispatchEvent(Zt(t,{version:me,...e},{bubbles:!0}))}function r(t,e){T("SvelteDOMInsert",{target:t,node:e}),Kt(t,e)}function H(t,e,n){T("SvelteDOMInsert",{target:t,node:e,anchor:n}),Ut(t,e,n)}function Q(t){T("SvelteDOMRemove",{node:t}),Mt(t)}function U(t,e,n,o,l,i,c){const f=o===!0?["capture"]:o?Array.from(Object.keys(o)):[];l&&f.push("preventDefault"),i&&f.push("stopPropagation"),c&&f.push("stopImmediatePropagation"),T("SvelteDOMAddEventListener",{node:t,event:e,handler:n,modifiers:f});const s=Wt(t,e,n,o);return()=>{T("SvelteDOMRemoveEventListener",{node:t,event:e,handler:n,modifiers:f}),s()}}function g(t,e,n){Xt(t,e,n),n==null?T("SvelteDOMRemoveAttribute",{node:t,attribute:e}):T("SvelteDOMSetAttribute",{node:t,attribute:e,value:n})}function tt(t,e){e=""+e,t.data!==e&&(T("SvelteDOMSetData",{node:t,data:e}),t.data=e)}function At(t){if(typeof t!="string"&&!(t&&typeof t=="object"&&"length"in t)&&!(typeof Symbol=="function"&&t&&Symbol.iterator in t))throw new Error("{#each} only works with iterable values.");return ce(t)}function ge(t,e,n){for(const o of Object.keys(e))~n.indexOf(o)||console.warn(`<${t}> received an unexpected slot "${o}".`)}class be extends pe{constructor(n){if(!n||!n.target&&!n.$$inline)throw new Error("'target' is a required option");super();Y(this,"$$prop_def");Y(this,"$$events_def");Y(this,"$$slot_def")}$destroy(){super.$destroy(),this.$destroy=()=>{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(_e);const{console:ye}=zt,h="src/App.svelte";function Bt(t,e,n){const o=t.slice();return o[17]=e[n],o}function Pt(t){const e={c:A,m:A,p:A,d:A};return T("SvelteRegisterBlock",{block:e,id:Pt.name,type:"catch",source:"(1:0) <script>   const getBooks = function() {          const p = fetch( '/read', {       method:'GET'      }",ctx:t}),e}function xt(t){let e,n=At(t[16]),o=[];for(let i=0;i<n.length;i+=1)o[i]=yt(Bt(t,n,i));const l={c:function(){for(let c=0;c<o.length;c+=1)o[c].c();e=Qt()},m:function(c,f){for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(c,f);H(c,e,f)},p:function(c,f){if(f&160){n=At(c[16]);let s;for(s=0;s<n.length;s+=1){const u=Bt(c,n,s);o[s]?o[s].p(u,f):(o[s]=yt(u),o[s].c(),o[s].m(e.parentNode,e))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d:function(c){c&&Q(e),Ht(o,c)}};return T("SvelteRegisterBlock",{block:l,id:xt.name,type:"then",source:"(107:27)     {#each books as book}",ctx:t}),l}function yt(t){let e,n,o=t[17].title+"",l,i,c=t[17].author+"",f,s,u=t[17].started+"",y,m,k,w=t[17].finished+"",E,O,F,B=t[17].daysTaken+"",J,C,G,M=t[17].rating+"",p,v,D,_,z,R,X;function L(){return t[13](t[17])}const K={c:function(){e=d("tr"),n=d("td"),l=V(o),i=d("td"),f=V(c),s=d("td"),y=V(u),m=b(),k=d("td"),E=V(w),O=b(),F=d("td"),J=V(B),C=b(),G=d("td"),p=V(M),v=b(),D=d("td"),_=d("button"),_.textContent="x",z=b(),a(n,h,109,8,3110),a(i,h,109,30,3132),a(s,h,109,52,3154),a(k,h,109,76,3178),a(F,h,109,101,3203),a(G,h,109,127,3229),a(_,h,109,154,3256),a(D,h,109,150,3252),a(e,h,109,4,3106)},m:function(P,I){H(P,e,I),r(e,n),r(n,l),r(e,i),r(i,f),r(e,s),r(s,y),r(e,m),r(e,k),r(k,E),r(e,O),r(e,F),r(F,J),r(e,C),r(e,G),r(G,p),r(e,v),r(e,D),r(D,_),r(e,z),R||(X=U(_,"click",L,!1,!1,!1,!1),R=!0)},p:function(P,I){t=P,I&32&&o!==(o=t[17].title+"")&&tt(l,o),I&32&&c!==(c=t[17].author+"")&&tt(f,c),I&32&&u!==(u=t[17].started+"")&&tt(y,u),I&32&&w!==(w=t[17].finished+"")&&tt(E,w),I&32&&B!==(B=t[17].daysTaken+"")&&tt(J,B),I&32&&M!==(M=t[17].rating+"")&&tt(p,M)},d:function(P){P&&Q(e),R=!1,X()}};return T("SvelteRegisterBlock",{block:K,id:yt.name,type:"each",source:"(109:2) {#each books as book}",ctx:t}),K}function $t(t){const e={c:A,m:A,p:A,d:A};return T("SvelteRegisterBlock",{block:e,id:$t.name,type:"pending",source:"(1:0) <script>   const getBooks = function() {          const p = fetch( '/read', {       method:'GET'      }",ctx:t}),e}function vt(t){let e,n,o,l,i,c,f,s,u,y,m,k,w,E,O,F,B,J,C,G,M,p,v,D,_,z,R,X,L,K,S,P,I,rt,wt,it,st,ut,ct,ft,St,at,pt,Et,N={ctx:t,current:null,token:null,hasCatch:!1,pending:$t,then:xt,catch:Pt,value:16};jt(at=t[5],N);const Ot={c:function(){e=d("h1"),e.textContent="Books",n=b(),o=d("div"),l=d("form"),i=d("label"),i.textContent="Title:",c=b(),f=d("input"),s=b(),u=d("label"),u.textContent="Author:",y=b(),m=d("input"),k=b(),w=d("label"),w.textContent="Date Started:",E=b(),O=d("input"),F=b(),B=d("label"),B.textContent="Date Finished:",J=b(),C=d("input"),G=b(),M=d("script"),M.textContent=`const today = new Date().toISOString().split("T")[0];
          document.getElementById("started").setAttribute("max", today);
          document.getElementById("finished").setAttribute("max", today);`,p=b(),v=d("label"),v.textContent="Rating out of 10:",D=b(),_=d("input"),z=b(),R=d("button"),R.textContent="add book",X=b(),L=d("table"),K=d("thead"),S=d("tr"),P=d("th"),P.textContent="Title",I=b(),rt=d("th"),rt.textContent="Author",wt=b(),it=d("th"),it.textContent="Started",st=d("th"),st.textContent="Finished",ut=d("th"),ut.textContent="Days to Read",ct=d("th"),ct.textContent="Rating",ft=d("th"),ft.textContent="Delete",St=b(),N.block.c(),a(e,h,72,0,1826),g(i,"for","title"),a(i,h,75,8,1869),g(f,"type","text"),g(f,"class","title"),g(f,"id","title"),a(f,h,76,8,1912),g(u,"for","author"),a(u,h,78,8,1989),g(m,"type","text"),g(m,"class","author"),g(m,"id","author"),a(m,h,79,8,2034),g(w,"for","started"),a(w,h,81,8,2114),g(O,"type","date"),g(O,"class","started"),g(O,"max",""),g(O,"id","started"),a(O,h,82,8,2166),g(B,"for","finished"),a(B,h,84,8,2254),g(C,"type","date"),g(C,"class","finished"),g(C,"max",""),g(C,"id","finished"),a(C,h,85,8,2308),a(M,h,86,0,2390),g(v,"for","rating"),a(v,h,93,8,2646),g(_,"class","rating"),g(_,"min","0"),g(_,"max","10"),g(_,"type","number"),g(_,"id","rating"),a(_,h,94,10,2703),a(R,h,98,12,2826),a(l,h,74,6,1854),a(o,h,73,1,1842),a(P,h,104,5,2919),a(rt,h,104,20,2934),a(it,h,104,36,2950),a(st,h,104,52,2966),a(ut,h,104,69,2983),a(ct,h,104,90,3004),a(ft,h,104,105,3019),a(S,h,104,0,2914),a(K,h,103,0,2905),a(L,h,102,0,2897)},l:function(x){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(x,j){H(x,e,j),H(x,n,j),H(x,o,j),r(o,l),r(l,i),r(l,c),r(l,f),$(f,t[0]),r(l,s),r(l,u),r(l,y),r(l,m),$(m,t[1]),r(l,k),r(l,w),r(l,E),r(l,O),$(O,t[2]),r(l,F),r(l,B),r(l,J),r(l,C),$(C,t[3]),r(l,G),r(l,M),r(l,p),r(l,v),r(l,D),r(l,_),$(_,t[4]),r(l,z),r(l,R),H(x,X,j),H(x,L,j),r(L,K),r(K,S),r(S,P),r(S,I),r(S,rt),r(S,wt),r(S,it),r(S,st),r(S,ut),r(S,ct),r(S,ft),r(L,St),N.block.m(L,N.anchor=null),N.mount=()=>L,N.anchor=null,pt||(Et=[U(f,"input",t[8]),U(m,"input",t[9]),U(O,"input",t[10]),U(C,"input",t[11]),U(_,"input",t[12]),U(R,"click",t[6],!1,!1,!1,!1)],pt=!0)},p:function(x,[j]){t=x,j&1&&f.value!==t[0]&&$(f,t[0]),j&2&&m.value!==t[1]&&$(m,t[1]),j&4&&$(O,t[2]),j&8&&$(C,t[3]),j&16&&It(_.value)!==t[4]&&$(_,t[4]),N.ctx=t,j&32&&at!==(at=t[5])&&jt(at,N)||ue(N,t,j)},i:A,o:A,d:function(x){x&&(Q(e),Q(n),Q(o),Q(X),Q(L)),N.block.d(),N.token=null,N=null,pt=!1,ot(Et)}};return T("SvelteRegisterBlock",{block:Ot,id:vt.name,type:"component",source:"",ctx:t}),Ot}function _t(t){var e=t.split("-");return new Date(e[0],e[1],e[2])}function ve(t,e,n){let{$$slots:o={},$$scope:l}=e;ge("App",o,[]);const i=function(){return fetch("/read",{method:"GET"}).then(v=>v.json()).then(v=>(console.log(v),v))};let c="",f="",s="",u="",y="";const m=function(p){p.preventDefault(),console.log(c,f,s,u,y);let v={title:c,author:f,started:s,finished:u,daysTaken:k(s,u),rating:y},D=JSON.stringify(v);n(5,E=fetch("/add",{method:"POST",body:D,headers:{"Content-Type":"application/json"}}).then(_=>_.json()))},k=(p,v)=>{let D=_t(p),_=_t(v);if(D.getDate()&&_.getDate()){if(D.getTime()>_.getTime())return console.log("Error, start must be before end."),-1;let z=D.getTime()-_.getTime(),R=Math.abs(z/(1e3*3600*24));return console.log(R),R}},w=function(p){let v={title:p},D=JSON.stringify(v);n(5,E=fetch("/delete",{method:"DELETE",body:D,headers:{"Content-Type":"application/json"}}).then(_=>_.json()))};let E=i();const O=[];Object.keys(e).forEach(p=>{!~O.indexOf(p)&&p.slice(0,2)!=="$$"&&p!=="slot"&&ye.warn(`<App> was created with unknown prop '${p}'`)});function F(){c=this.value,n(0,c)}function B(){f=this.value,n(1,f)}function J(){s=this.value,n(2,s)}function C(){u=this.value,n(3,u)}function G(){y=It(this.value),n(4,y)}const M=p=>w(p.title);return t.$capture_state=()=>({getBooks:i,title:c,author:f,started:s,finished:u,rating:y,addBook:m,getDate:_t,daysTaken:k,removeBook:w,promise:E}),t.$inject_state=p=>{"title"in p&&n(0,c=p.title),"author"in p&&n(1,f=p.author),"started"in p&&n(2,s=p.started),"finished"in p&&n(3,u=p.finished),"rating"in p&&n(4,y=p.rating),"promise"in p&&n(5,E=p.promise)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[c,f,s,u,y,E,m,w,F,B,J,C,G,M]}class ke extends be{constructor(e){super(e),he(this,e,ve,vt,Jt,{}),T("SvelteRegisterComponent",{component:this,tagName:"App",options:e,id:vt.name})}}new ke({target:document.getElementById("app")});
